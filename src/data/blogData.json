[
    {
        "id": 0,
        "shortTitle": "nas",
        "title": "Everyone Needs A NAS Box",
        "subtitle": "Why I decided to deploy a NAS and how I did it.",
        "authors": [
            "Sam Neisewander"
        ],
        "tags": [
            "computer networking",
            "self-hosting",
            "docker",
            "python"
        ],
        "datePublished": "08/18/2025",
        "dateModified": "08/18/2025",
        "data": "## What is a NAS?\n\nNAS stands for `network-attached storage`. A **NAS** is a server whose primary function is to archive large quantaties of data for a local network. It's pretty much a box stuffed to the gills with hard drives that can store all of your photos, movies, [Linux ISOs](https://www.urbandictionary.com/define.php?term=Linux+ISO&amp=true), files, or other digital assets.\n\n> For you laymen out there, a **server** is *basically* a computer that runs some kind of program 24/7. For example, `Google` might have a server that runs the \"Google search engine\" program that you tap into every time you make a search. Many kinds of servers exist for many different purposes. A NAS is a server whose purpose is to store a metric butt-load of data.\n\n> By the way: when I say `local network` or `network`, I'm talking about your `Wifi network`.\n\nThe idea is that if you have a NAS running on your local network, you can send files to it or retrieve files from it, which is handy for bulky archival tasks. For example, let's say I have `100GB` worth of `local drive space` on my phone. I will soon fill my phone's local drive with photos of my dog, and will no longer be able to take pictures. What am I to do?\n\nWell, most people would just cave and buy an `iCloud` subscription. When you do this, you are essentially renting `remote drive space` on one of Apple's many `storage servers` for a monthy fee, then sending your photos there and deleting them from your phone's `local drive`, thereby freeing up that `100GB` to be used again. Apple probably has hundres of petabytes of space on their storage servers; they rent you a measly portion of this massive pool and offer your a bigger slice of the pie the more money you cough up per month.\n\nA NAS works on essentially the same principle, except for one catch: since you own the NAS and the drives within it, **you pay for the storage space only once, and you manage your data yourself**.\n\n## Why would I want that?\n\nSo-called \"cloud storage solutions\" like iCloud or OneDrive are terribly convenient and usually cheaper in both raw cost and opportunity cost than building and maintaining a NAS yourself.\n\nBut let me explain why everyone should consider a NAS.\n\n### Ownership\n\nLike a landlord, Apple controls your digital rent, and can raise and lower your monthly bill on their whim. At the same time, nothing is stopping them from threatening to delete the data you have entrusted to them should you fail to pay your bill. \n\nSince your data is stored on Apple's drives, there is also nothing stopping them (or the highest bidder, or the government) from looking at your data.\n\nYou may not feel like this is a problem. May I remind you that Apple and Microsoft are publically-traded companies whose interests are intrinsically tied to shareholder interests (i.e. making a Godforsaken amount of money) and **not the wellbeing of customers**. This means that if Apple, Google, Meta, or Microsoft can use your data to train their new AI model, or profile you for advertisers, or profile you for the government, they will if it means preserving their bottom line.\n\nLet's say in the not-so-distant future the US government becomes an authoritarian, technocratic police state. What would you expect their first move to be? They might use LLMs and the wealth of personally-identifying data stored in various cloud services to profile the population and weed out those whose political views are antagonistic towards the regime's interests.\n\nDon't believe that a western nation would demand that kind of access to private data? [Read this](https://www.eff.org/deeplinks/2025/02/uks-demands-apple-break-encryption-emergency-us-all).\n\nWith a NAS, you can have the convenience of having your data stored `remotely` with the comfort of knowing that the hardware is `privately owned` by you. It is a powerful tool in your digital privacy toolkit.\n\nThis also means that the price per unit storage is based on market rates for storage devices, like HDDs and SSDs, which are becoming cheaper, faster, and more spacious every year. While it is probably costlier to build a NAS than to use a cloud service initially, it might be the case that the NAS is actually cheaper a few years down the line.\n\n### Logistics\n\nYour personal circumstances or work might require you to manage lots and lots of digital data. Say you are a photographer, for example. You take thousands of photos at high resolutions using lossless file formats. One picture might be `100MB`. That means 10 pictures is a gig, and 1000 pictures is 100 gigs. After a few years, you'll be filling every drive you own with terabytes of data and paying exhorbitant fees for cloud storage.\n\nEven better, let's say you're a videographer who works with a team of editors. Or a musician recording music in a studio who works with a remote mastering engineer. You'll be ingesting gigabytes of data on a daily basis, and you'll want all that data to quickly sync between several machines as you pass work between your teamates. With cloud storage, you'll be paying tons of money, but you'll also be dealing with latency issues as you transfer large amounts of data back and forth over the internet. With a NAS, you could share data between the storage server and your local devices using a wired internet connection or a high-speed Wifi connection *without having to dip your toes into the internet at all*. That means significantly faster upload and download speeds.\n\n### Redundancy\n\nYou don't want to lose years worth of precious family photos. You don't want to lose that video project you've spend a hundred hours on. Or that senior thesis you've been writing for months. Or your large library of totally legally acquired MP3s.\n\nThis is why you've gotta be proactive about backing up your data. With a cloud service like iCloud, this is baked right in. Since Apple has a copy of literally all of your information, you don't need to think twice about it. But what happens when you run out of iCloud space and don't want to pay the extra money to get more? Well, you eventually drop your phone in the toilet and **boom!** Photos gone.\n\nA NAS is a layer of redundancy. It can serve as a single, centralized backup location for all of your devices, whether they be phones, laptops, or PCs. You can even set up a system where your NAS backs itself up to a friends NAS, so that if your house burns down your information is still safe.\n\n### Parenting\n\nWith a NAS, you could easily set up a `Pihole` which you can configure to prevent your kid from accessing `pr0n` or `br41nr0t` on your local network. Neat! \n\n### Utility\n\nA NAS box can run several services. Here are a few running on my NAS:\n\n- `Nextcloud`, which is basically self-hosted OneDrive. Here, I can sync files between my laptop and desktop in real time, upload videos from my iPhone to my Windows devices easily, and offload files I don't need a local copy of to save up space on my laptop while still being able to access them if I have an internet connection. This is super useful for my video editing and music production workflows.\n- `Immich`, which is basically self-hosted Google Photos. It automatically backs up my iPhone's photo library to the NAS, allowing me to access my photos from my desktop. It has machine-learning features that allow me to search my library simply by describing the scene or selecting a person, and it let's me easily share photos with my girlfriend and my family through shared albums and libraries. My family is psyched to no longer have to pay for iCloud storage to back up their photos!\n- `Jellyfin`, which is basically self-hosted Amazon Prime Video. It lets me stream movies and TV shows that I have saved on my NAS. I ripped the disks from my parents DVD collection and saved tons of priceless family home videos that we can now view remotely from our phones!\n- `Pihole`, which blocks ads and certain categories of websites (\\*cough cough pr0n\\*) from my local network.\n- `Portainer`, which lets me easily deploy apps that I wrote myself using Python and dockerised. This might be more interesting to programmers than laypersons.\n\nWhile I haven't done this (yet), you could also self-host your own LLM, which doesn't have guardrails or content filters and won't attempt to profile you for state actors or advertisers.\n\n## How do I build one?\n\nIf you are **NOT** your family's designated computer nerd `(DCN)`, do the following immediately:\n1. Send this article to your family's `DCN`.\n2. Give them `$1500` and send them pie or cake, whichever is their preference.\n3. Stop reading this article and instead [go listen to this](https://open.spotify.com/album/2w3w1QYLMCQtGCWH5aLdUd?si=BZQH_SdhS-61scu1pzfWCw).\n\n\n**\u26a0\ufe0fENTERING DESIGNATED COMPUTER NERD RESTRICTED AREA\u26a0\ufe0f**\n\nHello, designated nerd! I hope you're doing well. In order to build a NAS, you will need the following:\n\n1. A lot of `free time` to troubleshoot problems\n2. Like `$1500`\n3. **Either** a `solid understanding of computer networks` and self-hosting **or** an `eagerness to learn` a lot about computer networks and self-hosting.\n\nFirst off, **this is not intended to be an exhaustive guide**. This is supposed to give you a high-level conceptual understanding of some of the things you will need to do to deploy a NAS in your home. I will try to point you towards resources I found helpful while working on my NAS, but the nature of documentation is that it quickly falls out of date, so you will likely have to hunt down your own up-to-date sources if you have specific questions.\n\n\n**\u26a0\ufe0fHi there! I'm still writing this post. Please check back later for updates!\u26a0\ufe0f**\n\n### The machine\n\n### TrueNAS Scale\n\n### How the internet works (basically)\n\n### Modem and router (I hardly know er)\n#### custom DNS\n#### DHCP\n#### Port forwarding\n\n### Domain\n\n#### getting a domain\n#### DNS\n#### Cloudflare\n\n### Reverse proxy\n\n### VPN\n\n### Applications\n\n#### Immich\n#### Jellyfin\n#### Portainer"
    },
    {
        "id": 1,
        "shortTitle": "month-of-may",
        "title": "\"In The Month of May\": Write-up",
        "subtitle": "About the production process and lessons learned from Gorilla Tuesday's \"In The Month of May\"",
        "authors": [
            "Sam Neisewander"
        ],
        "tags": [
            "music production"
        ],
        "datePublished": "08/11/2025",
        "dateModified": "08/11/2025",
        "data": "## Overview\nThis was a cool project because it helped me to exercise all facets of producing a song: part writing, tracking, mixing, and mastering. This song was the second track I published ever, and the first that was published under my own name, so that was a pretty cool milestone as well. Here I will highlight a few things I learned throughout the process, sorted by stage in the production pipeline.\n\n### Background\nJimmy Brown came to me with a completed acoustic demo of the song, saying that his band wasn't much into the idea and didn't really know what to do with it. I spent about a week turning the song into a complete, 4-piece demo. I wrote a lead line, a bass line, some vocal harmonies, and a simple drum track in my living room. He liked the completed demo, so he drove out to my place and re-recorded the acoustic guitar parts and the vocals using my equipment. to had his drummer book some studio time to record a drum track. I mixed and mastered the song (at the time I didn't know the first thing about mixing or mastering) and we released it in May. The production window was a full year, start to finish. There are many, many things I wish I could go back and do differently. \n\n## The production pipeline\n\n>So let me quick define some language I use here. The \"pipeline\" goes like this:\n> 1. `Pre-production` is everything before tracking. Here I would find musicians to work with, make agreements on genre / track count / equity split, and write songs.\n> 2. `Production` is tracking. This involves scheduling regular sessions to record the songs.\n> 3. `Post-production` is everything that happens after tracking, including mixing, mastering, marketing, and release.\n\n### The beginning\nThis was my first time producing music with another artist. I had previously rehearsed and performed music with other musicians, but songwriting is a different beast. Learning existing music is kind of mechanical; you just look at the charts and practice until you can perform the part correctly. With songwriting, you have to be more intentional about your sessions to make progress. Jimmy was the project lead for this, and he came to the table with the lyrics and structure already written. All I had to do was write parts for the rest of his band. We scheduled a time to track all of his acoustic and vocal stuff at my house during Summer 2024, and recorded all of it in a single day. He had his drummer record his stuff and had those stems to me shortly afterwards. Then I got stuck in post-production hell.\n\n### To hell and back again\nThat Fall semester, I stalled on post-production on \"Month of May\" as school responsibilities crept in. At the same time, I started pre-production work on a midwest emo project titled \"Eddy's Headstone\" that I had agreed to write with my buddy Zach Nuss. Over the course of the semester we didn't make any progress at all. Like, we literally had almost no usable material after 5 months of regular sessions. I became increasingly frustrated by my lack of progress. As if to rub salt in the wound, my academic performance was awful, too.\n\nThat semester, I matured a lot as a producer and as a student. Over the Winter, and after some crucial conversations with a few of my professors, I gained a strong resolve to reexamine my work habits and reevaluate my relationship with learning and with the things I'm passionate about. After struggling to push the needle for an entire semester, I came back to school in the Spring and finished \"Month of May\", finished writing and recording \"Eddy's Headstone\", arranged and performed two songs for my a cappella group, and made the dean's list.\n\nI spent most of that Spring working on Eddy's Headstone, but I'll save the juicy details of that project for another post and instead focus on \"Month of May\". Jimmy and I agreed on mixing and mastering deadlines, and I started approaching mixing sessions with a more goal-oriented mindset. With a little due-date stress to spur me on, I made progress much faster than the (glacial) pace I was on in the Fall.\n\nThe deciding factor that got me out of production hell was literally setting due-dates.\n\n### So how long should it actually take to make a song?\n\n*Definitely not a whole year*. I think that if you're efficient and focused, you could produce a really good single in a month. I also have a hunch that if you work on multiple projects *concurrently* you can get big speedups. For example, if I finish writing on project `A` and start booking recording sessions with musicians, I can start writing project `B` while project `A` is in production. Then when recording wraps on project `A` and enters post-production, I should be done writing project `B` and can then take it into production. At the same time, I can start writing project `C`. (I hope you CS people reading this appreciate the cursed way my brain works because of [Unix pipelines](https://en.wikipedia.org/wiki/Pipeline_(Unix))). Anyways, supposing I follow this song and dance like clockwork and I set a **yearlong production window** on each project, I should be able to release something about **every 4 months** while keeping everyone on my team busy. Seems like a pretty speedy release cadence, right? Most mainstream artists don't achieve that kind of output... probably because they are focussed on touring, because [that's where the money is](https://www.businessinsider.com/how-do-musicians-make-money-2018-10). For small artists, though, streaming is the route by which one can *make impressions* and thereby *convert listeners*, which enables one to leverage touring to generate income. Anyways.\n\nWorking on post-production for \"Month of May\" at the same time as production for \"Eddy's Headstone\" got me thinking about how these release cycles would work if I did music full-time. I kind of realized that separating these processes and keeping the agility up becomes super important when you have several teams working in sequence over one fixed production timeline. For example, if `writer` hands work to `mixing engineer` who hands demo to `music video producer` who needs to contract `actors` before `release date`, it is essential that `writer` doesn't get stuck in a rut for half of a year. Duh.\n\nAnyways, since Spring of 2024 I've started outlining my project timelines by this three-phase cycle, and have been seeing early results! Woohoo!\n\n## Part-writing\nI got to write a bassline which was pretty easy. Just [comping](https://gearspace.com/board/so-many-guitars-so-little-time/1172466-what-comping.html) and root notes pretty much. I didn't try to do anything fancy (no skill as a bassist lol).\n\nThe interesting thing here was the harmonies and the guitar solo. I was fresh off of Theory I and Theory II (both of which I did really poorly in) so I wanted to try and do something a bit more elaborate than [parallel thirds or tenths](https://en.wikipedia.org/wiki/Contrapuntal_motion#Parallel_motion), which is what pretty much every rock or pop artist defaults to when writing vocal harmony. My workflow was to use intuition (and basic theory concepts) to decide what each line should be, sing the parts myself, and then have Jimmy sing the vocal with my demo in his monitor. My background in a cappella certainly helped, but the experience applying my critical ear to improve things like intonation, pitch modulation, and emotional expression while I worked with Jimmy in the \"studio\" was huge. The harmonies sit in the back of the final mix and are mostly supportive, but I think they turned out really well.\n\nThe guitar solo was completely uncharted territory. I'm an okay guitarist, but I'm not that experienced at soloing. I had literally just learned the solo during the bridge of \"[Let It Be](https://open.spotify.com/track/7iN1s7xHE4ifF5povM6A48?si=59d56eac9110403a)\" and was practicing my major scales, so I pretty much just borrowed and mixed some ideas together to make a simple solo. Jimmy's guitarist took what I wrote and added some decorations and fills. I later went back and added some call and response chords with the rhythm guitar, and that's where we landed.\n\nI think the main thing I learned about soloing is that a good solo usually follows pretty simply from a lot of the generally prescribed guitar drills and exercises. Scales, arpeggios, triads, and a splash of chromaticism are the building blocks, and your job as a soloist is to take that stuff and weave it into something fun, original, and aesthetically consistent with the song's theme. Good solos are not necessarily complicated.\n\n## Tracking\n\n### Multiple monitors \nI went and bought a [Behringer MicroAMP](https://www.sweetwater.com/store/detail/HA400--behringer-microamp-ha400-4-ch-headphone-amplifier) so that I could drive two pairs of headphones with my [Scarlet 2i2](https://us.focusrite.com/products/scarlett-2i2-3rd-gen) and give one to Jimmy for monitoring. I gave him my spare pair of Beyerdynamic over-ears that I inherited from my older brother who used to use them for his MIDI drum kit in, like, 2010. Those headphones are so, so old. The whole setup was totally amateur, but it was budget-friendly and worked just fine. I later used the same monitoring setup for \"Eddy's Headstone\".\n\n### Recording acoustic guitar\nSo, unsurprisingly, I don't have a properly sound-treated room and I wasn't about to spend a ton of money and time setting one up (although I almost pulled the trigger on [this idea](https://www.youtube.com/watch?v=HO7aeraKLsM), which I still think is awesome). Instead, I went to every room in my house and started clapping and yelling like an idiot to gauge reflections and reverb tails. Every single room had disgusting reverb except my living room, so that's where I set up shop. I used a pair of SM57s for the guitar. One was pointed off-axis towards the soundhole, about 4inches off and angled away from the fretboard. The other was hung as an overhead over Jimmy's shoulder to capture high-end sound.\n\nThe gain staging with this was weird because the soundhole mic picked up way more than the overhead, so I had to really fiddle with the gain staging on my interface to ballance out the levels. Another weird thing was that on mic was mostly lows and mids while the other was pretty much completely highs, which made it challenging to pan the mics and get a nice stereo image because the frequency response of each channel wasn't really very uniform. I noticed that even though the gain meter reported that both channels were playing the same *volume*, the *perceived loudness* of the recording would be skewed to whatever side had the mids and lows.\n\nThis made the acoustic kind of a vexing thing to work into the mix. Later, on \"Eddy's Headstone\", I experimented with layering recordings using this setup such that `Layer 1` and `Layer 2` would have oppositely panned stereo images, which would hopefully evenly distrubute the frequency response, balancing and thickening the overall sound, but I'm not sure if this strategy will be effective yet since, at the time of writing, that project is still in post-production.\n\nIn any case, I likely will substitue the SM57s with SM81s the next time I record acoustic guitar, and I'd like to experiment with different mic placements to see if I get more workable results a different way. Please email me if you know how to do this properly lol.\n\n### Recording Vocals\nI bought a terrible pop filter on Amazon for like `$10` and slapped that over an SM58. The setup for this was not terribly complicated and I think the results (in terms of audio) were okay. Jimmy is not a professional vocalist, so honestly the hardest part was giving him good performance notes and direction for the harder harmony parts.\n\nSome general insights:\n- It's a good idea to start recording a fixed distance away from the start of the line to reduce confusion. For example, you might communicate to your performer that you will always start a take two measures before they start singing / playing.\n- Turn down the volume on the performer's monitor to prevent feedback, especially with the click track.\n- Be careful about rapidfire takes. If your performer is struggling to get something right, it might be faster to take a 10 minute timeout to grab water or stretch, or to revisit the part later and let the magic of spaced repetition go to work.\n- Try to delete unusable takes as you record them to reduce the production workload.\n\nThings I'd like to look into:\n- Read about strategies to allow more gain through the monitors without feedback.\n- I should probably read about the anatomy of a good vocal performance. I'm certain that there are best practices for controlling intonation, sibilance, and plosives that I'm not aware of.\n\n### Recording Drums\nSince this was my very first time working with a real drum track, I tried to be very deliberate and conservative with the signal chain. Nothing fancy, just some panning, gain adjustments, and stock EQ presets for each drum. For it being my first time, the drums turned out very nice!\n\nI didn't record the drums myself (I didn't have the resources to do that), but the biggest thing I learned from the stems I was supplied with was literally what pieces are in a kit and what the recording setup might look like. It didn't occur to me that you would use a pair of overheads for the hihats and cymbols, and I didn't know there was a difference between a rack tom and a floor tom.\n\nI would imagine that many of the basic recording principles apply to drum recording, but I would be interested in seeing a professional setup because the devil is in the details.\n\n## Post-production\n\nOkay. So let's just do some bullet points:\n\nThings I'm happy about:\n- The drums\n- The harmonies\n- The bass\n- The falsetto\n- The reversed guitar\n\nThings I'm upset about:\n- The drums, because sometimes they are off time or don't swing as aggressively as the guitar, which drives me insane. Also, I had to replace the *entire kick* because the one the drummer recorded didn't line up rythmically with the bass or the acoustic. Also, the kick doesn't pop through the low end because I didn't know about sidechaining the kick.\n- The vocal (and the harmonies) because I mangled them in Melodyne or didn't catch big performance issues during recording which caused lots of very audible timing and pitch modulation issues, which drives me insane.\n- The electric guitars, because the tone is awful and the countermelodies and fills are way too quiet.\n- The end of the bridge, because the big harmony and electric guitar swell doesn't come across nearly as strongly as I wanted it to.\n- The rest of the bridge, because I hesitated to make bold production decisions to make it distinct from the rest of the track, and now the song is too homogenous.\n- The acoustic guitar, because it sounds too middy and muddy, especially when Jimmy strikes the low E string.\n\n### How I would fix the drums\nThis one is actually super vexing. The big issue is timing, which is really hard to correct in post. For DI instruments like bass and electric, I can just use Ableton's [Warp](https://www.ableton.com/en/manual/audio-clips-tempo-and-warping/) tool, but for drums this doesn't work very well. This is becasue if you try to use warp to enforce timing on, say, the snare, the information common to the overheads and the snare will be thrown out of phase, which leads to really harsh artifacts. You can't possible hope to enforce timing on everything and expect all the cross-talk transients to line up.\n\nOne strategy I thought of was to gate out the cross-talk from the rest of the kit on each mic, and then use warp to adjust timing. This solution kind of sucks though, because for the snare and overheads especially, whenever the gate opens you can plainly hear the cross-talk from the cymbols and hi-hats, which brings you back to square one. If you try to truly isolate each drum, you'll end up cutting out so much information that the drum loses its richness, which is no good either.\n\nSo, my conclusion for now is that the best way to fix timing on the drums is not to. If the timing is wrong, go back to the studio and record them again. Then, use the drums as the foundation for timing everything else, because everything else is *super forgiving* in comparison.\n\n### How I would fix the acoustic\nI want to try recording the acoustic in a treated room with a pair of SM81s pointed in an x-shape, then apply some compression and EQ to cut mud and draw out some brightness. I think this would fix my issues with the stereo image, and if I layer multiple recordings and quantize the transients with warp, I'll get a really thick sound.\n\nOne thing I need to read more about is phase issues with layering acoustic. I also want to check if warping the transients causes phasing issues by testing that with a [correlometer](https://www.voxengo.com/product/correlometer/). \n\n### How I would fix the vocal\nI would re-record messy takes and make sure my performer is working under optimal conditions. So, like, one obvious stupid thing we did is we decided to take a break from recording vocals to go eat dinner, and then we came back and recorded more vocals. So Jimmy ate an enormous sandwich before recording, like, half of the song. That definately caused, like, a **lot** of issues, especially with the falsetto. I should have known better, honestly, but we were crunched for time. In the future I'm gonna make sure my vocalists drink water, eat honey, avoid dairy, and rest in between takes to mitigate fatigue.\n\n### How I would fix the rest\nMore thoughtful production. I would be more confident making artistic choices to make the song more interesting, and I would more closely align my tone considerations with the aesthetic of the song. The wimpy tone of the electric guitar in the final mix is actaully an overcorrection from an overdriven, distorded tone I had landed on in an earlier revision. I should have been able to find the sweet spot, but I wasn't able to dial it in before the deadline. There are plenty of other mixing techniques I've picked up on since working on this project that I simply didn't know about at the time (especially a lot having to do with sidechaining and automation).\n\n### Mastering\n\nI followed [this article on mastering](https://tarekith.com/articles/Mastering.pdf), and just slapped a limiter on the main output.\n\nFrom the article:\n\n> With your best limiter, set the release to Auto if that's an option, and set the main output to -0.3dBFS. Then lower the threshold until the very highest peaks of your song are only being limited by about 3dB's, which you'll see on the gain reduction meter. And I mean only the very highest peaks of the song. The GR meter should just barely flicker up to 3dB ideally.\n\n## Closing thoughts\n\nThe biggest gain from this project by far was a better understanding of project management and collaborating with a team. I think that the hard skills of mixing and mastering will come with practice, and this track is just one of many that will help me to grow and learn. On to the next one!\n\n\n\n\n\n"
    }
]